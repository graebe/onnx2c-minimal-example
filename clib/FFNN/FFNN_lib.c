// This file is computer-generated by onnx2c 
// (TODO: add creating command line here)
// (TODO: print creation date here )

// ONNX model:
// produced by pytorch, version 1.13.0
// ONNX IR version: 14
// Model documentation: 
/*

*/

#include <float.h>
#include <math.h>
#include <stdbool.h>
#include <stdint.h>
#include <string.h>
#define MAX(X,Y) ( X > Y ? X : Y)
#define MIN(X,Y) ( X < Y ? X : Y)
#define CLIP(X,L) ( MAX(MIN(X,L), -L) )

static const float tensor_l1_weight[100][1] = 
{
  {-0.78982841968536376953f},
  {-0.77940416336059570312f},
  {0.56986987590789794922f},
  {-0.74363136291503906250f},
  {0.41576707363128662109f},
  {-0.0062918663024902343750f},
  {-0.79610002040863037109f},
  {0.73097479343414306641f},
  {0.94394910335540771484f},
  {-0.99686062335968017578f},
  {0.57994878292083740234f},
  {0.33599770069122314453f},
  {0.53156137466430664062f},
  {0.66508567333221435547f},
  {-0.70883250236511230469f},
  {0.33574104309082031250f},
  {0.76894104480743408203f},
  {0.036640524864196777344f},
  {0.35920369625091552734f},
  {0.78943979740142822266f},
  {-0.65099024772644042969f},
  {0.60327696800231933594f},
  {-0.47207927703857421875f},
  {0.22313690185546875000f},
  {0.67734873294830322266f},
  {-0.069554805755615234375f},
  {0.92897236347198486328f},
  {0.69855046272277832031f},
  {-0.49023246765136718750f},
  {-0.27385044097900390625f},
  {-0.40708661079406738281f},
  {-0.56313109397888183594f},
  {0.71798980236053466797f},
  {-0.82504844665527343750f},
  {0.73366820812225341797f},
  {-0.57474398612976074219f},
  {0.68471717834472656250f},
  {0.98636531829833984375f},
  {0.64734327793121337891f},
  {0.98224425315856933594f},
  {-0.54021632671356201172f},
  {-0.23104703426361083984f},
  {-0.20338690280914306641f},
  {0.54037332534790039062f},
  {0.16913414001464843750f},
  {-0.44679188728332519531f},
  {-0.82327783107757568359f},
  {-0.36407625675201416016f},
  {-0.30115449428558349609f},
  {-0.28769862651824951172f},
  {-0.15566360950469970703f},
  {-0.044451355934143066406f},
  {0.61312592029571533203f},
  {0.78641963005065917969f},
  {-0.18978559970855712891f},
  {-0.10711145401000976562f},
  {-0.29534745216369628906f},
  {0.57500779628753662109f},
  {-0.60871183872222900391f},
  {0.20558679103851318359f},
  {0.78873920440673828125f},
  {0.027862668037414550781f},
  {-0.73379945755004882812f},
  {0.81543850898742675781f},
  {0.26775932312011718750f},
  {-0.16508674621582031250f},
  {-0.59493815898895263672f},
  {0.93126285076141357422f},
  {0.27169132232666015625f},
  {-0.79207456111907958984f},
  {0.18780660629272460938f},
  {0.38530671596527099609f},
  {0.50388777256011962891f},
  {0.65771687030792236328f},
  {-0.72647881507873535156f},
  {0.31129026412963867188f},
  {-0.87375366687774658203f},
  {0.87102818489074707031f},
  {0.37981402873992919922f},
  {-0.71430647373199462891f},
  {0.67377626895904541016f},
  {-0.85882985591888427734f},
  {-0.78097534179687500000f},
  {-0.39510810375213623047f},
  {0.60888111591339111328f},
  {0.41852772235870361328f},
  {0.28323650360107421875f},
  {0.99415075778961181641f},
  {-0.86462986469268798828f},
  {-0.59998273849487304688f},
  {0.54532301425933837891f},
  {-0.67067337036132812500f},
  {-0.92838466167449951172f},
  {0.75051355361938476562f},
  {0.48525893688201904297f},
  {0.35498201847076416016f},
  {0.40158581733703613281f},
  {-0.11295199394226074219f},
  {0.18088829517364501953f},
  {0.27148544788360595703f}
};
static const float tensor_l1_bias[100] = 
{0.47298955917358398438f, 0.57867670059204101562f, 0.28959286212921142578f, 0.47581934928894042969f, 0.48217988014221191406f, -0.91048204898834228516f, -0.18578827381134033203f, -0.41200006008148193359f, -0.12463092803955078125f, 0.42809748649597167969f, 0.80303597450256347656f, 0.44966244697570800781f, -0.97383356094360351562f, 0.36957657337188720703f, -0.51484870910644531250f, -0.16678464412689208984f, 0.86758923530578613281f, 0.99175608158111572266f, -0.016947388648986816406f, 0.67970514297485351562f, -0.037073016166687011719f, 0.86707150936126708984f, -0.041905641555786132812f, -0.96126306056976318359f, -0.17709088325500488281f, -0.61745643615722656250f, -0.88740992546081542969f, -0.88257455825805664062f, -0.41939365863800048828f, 0.75507366657257080078f, 0.60866820812225341797f, 0.070090532302856445312f, 0.051998853683471679688f, -0.85813844203948974609f, 0.66290402412414550781f, -0.77827990055084228516f, -0.71153640747070312500f, -0.98664319515228271484f, -0.17210948467254638672f, 0.68232393264770507812f, -0.063288092613220214844f, 0.79817807674407958984f, -0.10783028602600097656f, 0.067277669906616210938f, -0.89821195602416992188f, -0.25088942050933837891f, -0.049751877784729003906f, 0.51814472675323486328f, 0.92003512382507324219f, 0.85299491882324218750f, 0.19730401039123535156f, 0.96144652366638183594f, 0.92890334129333496094f, 0.86084520816802978516f, -0.98617827892303466797f, 0.64536571502685546875f, -0.83199357986450195312f, -0.71390318870544433594f, 0.19531464576721191406f, 0.21215975284576416016f, -0.22993803024291992188f, 0.080178260803222656250f, 0.97968876361846923828f, -0.57270503044128417969f, -0.29984486103057861328f, 0.89805710315704345703f, 0.35871279239654541016f, 0.69051539897918701172f, 0.83643150329589843750f, -0.16250801086425781250f, 0.39758396148681640625f, 0.061079025268554687500f, 0.20937454700469970703f, 0.23488593101501464844f, -0.44421529769897460938f, -0.18441498279571533203f, 0.72092056274414062500f, -0.84680807590484619141f, -0.13665390014648437500f, 0.74539208412170410156f, -0.040117263793945312500f, -0.95272159576416015625f, -0.33775269985198974609f, 0.32300996780395507812f, -0.52047431468963623047f, 0.55015218257904052734f, 0.17791879177093505859f, -0.29965651035308837891f, 0.24847328662872314453f, 0.068002700805664062500f, -0.62769806385040283203f, -0.68538224697113037109f, -0.0012022256851196289062f, -0.78696107864379882812f, -0.23122739791870117188f, 0.28321921825408935547f, -0.96562755107879638672f, 0.71933305263519287109f, 0.76861679553985595703f, 0.28624522686004638672f};
static const float tensor_l2_weight[1][100] = 
{
  {-0.098391309380531311035f, 0.057731058448553085327f, 0.074932053685188293457f, 0.072414636611938476562f, -0.099478624761104583740f, -0.024504279717803001404f, 0.048362970352172851562f, 0.032556273043155670166f, -0.096153520047664642334f, -0.055437233299016952515f, -0.057695414870977401733f, 0.013906097970902919769f, 0.028237819671630859375f, 0.011920380406081676483f, 0.057940911501646041870f, -0.071184031665325164795f, -0.055800367146730422974f, -0.063467681407928466797f, -0.089037492871284484863f, 0.072517767548561096191f, 0.018286561593413352966f, -0.098996758460998535156f, 0.079993262887001037598f, 0.033778954297304153442f, 0.054043807089328765869f, 0.030554354190826416016f, -0.016984796151518821716f, 0.033235289156436920166f, -0.064917266368865966797f, 0.044603254646062850952f, 0.098281435668468475342f, -0.0067593813873827457428f, 0.051318407058715820312f, -0.098351553082466125488f, 0.093027822673320770264f, 0.044438280165195465088f, -0.028393054381012916565f, -0.041648007929325103760f, 0.062999069690704345703f, -0.030729806050658226013f, 0.022366870194673538208f, -0.068251386284828186035f, 0.0083512784913182258606f, -0.063197031617164611816f, 0.041477929800748825073f, 0.038486063480377197266f, 0.020588219165802001953f, -0.036055114120244979858f, -0.0080124381929636001587f, -0.012248123064637184143f, 0.023895014077425003052f, -0.092321470379829406738f, 0.066343449056148529053f, -0.0054342867806553840637f, 0.036075618118047714233f, 0.064344920217990875244f, 0.082255534827709197998f, 0.0011257649166509509087f, 0.021802937611937522888f, -0.072818450629711151123f, -0.069005906581878662109f, 0.034506298601627349854f, -0.058312177658081054688f, -0.0060773729346692562103f, -0.036971785128116607666f, 0.061837267130613327026f, 0.050143122673034667969f, 0.085194073617458343506f, 0.0063255787827074527740f, 0.043862488120794296265f, 0.033319424837827682495f, -0.055509936064481735229f, 0.035485472530126571655f, -0.037639107555150985718f, -0.017571425065398216248f, -0.0031981826759874820709f, -0.091182611882686614990f, 0.061436381191015243530f, 0.083064094185829162598f, -0.021010804921388626099f, -0.033547163009643554688f, 0.058642197400331497192f, -0.088218234479427337646f, 0.040514398366212844849f, 0.020461607724428176880f, 0.0036404728889465332031f, -0.032059539109468460083f, -0.0099178077653050422668f, -0.065003775060176849365f, 0.078381650149822235107f, 0.099527038633823394775f, -0.041524924337863922119f, 0.094245195388793945312f, 0.061833154410123825073f, 0.047503720968961715698f, -0.091895356774330139160f, -0.0090642450377345085144f, -0.087529256939888000488f, -0.091901957988739013672f, 0.093337073922157287598f}
};
static const float tensor_l2_bias[1] = 
{0.085496403276920318604f};
union tensor_union_0 {
float tensor__l1_Gemm_output_0[1][100];
};
static union tensor_union_0 tu0;

union tensor_union_1 {
float tensor__a1_Tanh_output_0[1][100];
};
static union tensor_union_1 tu1;


static inline void node__l1_Gemm( const float tensor_input[1][1], const float tensor_l1_weight[100][1], const float tensor_l1_bias[100], float tensor__l1_Gemm_output_0[1][100] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 1;
	const int N = 100;
	float (*A)[1]  = (float(*)[1])tensor_input;
	float (*Y)[100]  = (float(*)[100])tensor__l1_Gemm_output_0;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[100]  = (float(*)[100])tensor_l1_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l1_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][c] * beta;
			Y[r][c] = tmp;
	}
}

static inline void node__a1_Tanh( const float tensor__l1_Gemm_output_0[1][100], float tensor__a1_Tanh_output_0[1][100] )
{
	/* Tanh
	   alpha = 0.0000000000000000000
	   beta = 0.0000000000000000000
	*/
	for (unsigned i0=0; i0<1; i0++) {
	for (unsigned i1=0; i1<100; i1++) {
		tensor__a1_Tanh_output_0[i0][i1] = tanhf(tensor__l1_Gemm_output_0[i0][i1]);
	}
	}
}

static inline void node__l2_Gemm( const float tensor__a1_Tanh_output_0[1][100], const float tensor_l2_weight[1][100], const float tensor_l2_bias[1], float tensor_output[1][1] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 100;
	const int N = 1;
	float (*A)[100]  = (float(*)[100])tensor__a1_Tanh_output_0;
	float (*Y)[1]  = (float(*)[1])tensor_output;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[1]  = (float(*)[1])tensor_l2_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l2_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][0] * beta;
			Y[r][c] = tmp;
	}
}
