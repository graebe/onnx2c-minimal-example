// This file is computer-generated by onnx2c 
// (TODO: add creating command line here)
// (TODO: print creation date here )

// ONNX model:
// produced by pytorch, version 1.13.0
// ONNX IR version: 14
// Model documentation: 
/*

*/

#include <float.h>
#include <math.h>
#include <stdbool.h>
#include <stdint.h>
#include <string.h>
#define MAX(X,Y) ( X > Y ? X : Y)
#define MIN(X,Y) ( X < Y ? X : Y)
#define CLIP(X,L) ( MAX(MIN(X,L), -L) )

static const float tensor_l1_weight[100][1] = 
{
  {-0.15706171095371246338f},
  {0.054119735956192016602f},
  {0.14535158872604370117f},
  {-0.88809204101562500000f},
  {-0.83849865198135375977f},
  {-0.48637178540229797363f},
  {0.22552134096622467041f},
  {-0.026861032471060752869f},
  {-0.89705991744995117188f},
  {-0.41380757093429565430f},
  {0.80741304159164428711f},
  {-0.98209559917449951172f},
  {0.85452497005462646484f},
  {0.98214691877365112305f},
  {0.91190880537033081055f},
  {-0.32605692744255065918f},
  {-0.14688073098659515381f},
  {0.14527481794357299805f},
  {-0.49195867776870727539f},
  {-0.26312530040740966797f},
  {0.66435903310775756836f},
  {-0.21069358289241790771f},
  {0.26579213142395019531f},
  {-0.89848262071609497070f},
  {0.93630093336105346680f},
  {-0.11780695617198944092f},
  {0.40838027000427246094f},
  {0.31744956970214843750f},
  {-0.23927728831768035889f},
  {-0.98054629564285278320f},
  {1.0133855342864990234f},
  {0.94416785240173339844f},
  {-0.060830395668745040894f},
  {-0.24685588479042053223f},
  {0.98228532075881958008f},
  {-0.69836437702178955078f},
  {-0.71531242132186889648f},
  {0.43835425376892089844f},
  {-0.23822268843650817871f},
  {-0.72349280118942260742f},
  {-0.97197079658508300781f},
  {-0.32063800096511840820f},
  {-0.91539806127548217773f},
  {0.24127209186553955078f},
  {0.77650886774063110352f},
  {-0.62501174211502075195f},
  {0.77326089143753051758f},
  {0.57287609577178955078f},
  {-0.78506404161453247070f},
  {0.61140614748001098633f},
  {0.53041642904281616211f},
  {-0.094794534146785736084f},
  {-0.62021505832672119141f},
  {0.26705023646354675293f},
  {-0.89746326208114624023f},
  {0.60749548673629760742f},
  {0.0030642349738627672195f},
  {-0.48510244488716125488f},
  {-0.23993949592113494873f},
  {-0.46324497461318969727f},
  {-0.18440315127372741699f},
  {-0.55299353599548339844f},
  {-0.88004165887832641602f},
  {0.30648979544639587402f},
  {0.033822361379861831665f},
  {-0.26463997364044189453f},
  {-0.37368935346603393555f},
  {-0.30292662978172302246f},
  {-0.37793222069740295410f},
  {-0.63180196285247802734f},
  {0.99968069791793823242f},
  {0.47091320157051086426f},
  {0.83186978101730346680f},
  {0.62727689743041992188f},
  {-0.55501526594161987305f},
  {0.69382959604263305664f},
  {0.57469558715820312500f},
  {-0.66773092746734619141f},
  {0.59769117832183837891f},
  {-0.19843399524688720703f},
  {1.0069166421890258789f},
  {-0.58318990468978881836f},
  {0.17301288247108459473f},
  {0.79906415939331054688f},
  {0.92323130369186401367f},
  {-0.90625989437103271484f},
  {-0.58145350217819213867f},
  {0.47332617640495300293f},
  {-0.52130937576293945312f},
  {0.32936018705368041992f},
  {-0.95915520191192626953f},
  {0.27837944030761718750f},
  {0.75045025348663330078f},
  {0.32467195391654968262f},
  {0.55186867713928222656f},
  {-0.75371825695037841797f},
  {-0.92799222469329833984f},
  {-0.75465607643127441406f},
  {-0.54130011796951293945f},
  {0.65351444482803344727f}
};
static const float tensor_l1_bias[100] = 
{0.45627790689468383789f, 0.50578200817108154297f, 0.38349834084510803223f, 0.13064797222614288330f, 0.14664150774478912354f, -0.66499233245849609375f, -0.95221859216690063477f, 0.44338116049766540527f, 0.96394968032836914062f, -0.70291095972061157227f, 0.58153027296066284180f, -0.42173680663108825684f, -0.29319548606872558594f, 0.29213222861289978027f, 0.57271736860275268555f, 0.67081904411315917969f, 0.46761703491210937500f, -0.46970736980438232422f, 0.41267785429954528809f, -0.89290499687194824219f, 0.62756878137588500977f, -0.67236131429672241211f, 0.65493720769882202148f, -0.47429931163787841797f, 0.18319623172283172607f, 0.0091281002387404441833f, -0.69099581241607666016f, -0.27409636974334716797f, -0.48283115029335021973f, 0.52944320440292358398f, -0.95832890272140502930f, 0.79975712299346923828f, -0.32628405094146728516f, -0.85531055927276611328f, -0.067508280277252197266f, 0.64268642663955688477f, 0.043822426348924636841f, -0.76961702108383178711f, -0.79030561447143554688f, 0.19904714822769165039f, 0.75014656782150268555f, 0.16009345650672912598f, -0.15816490352153778076f, -0.17256958782672882080f, 0.98411315679550170898f, 0.48636868596076965332f, 0.96234560012817382812f, -0.39703488349914550781f, 0.57714736461639404297f, 0.63926881551742553711f, -0.79648429155349731445f, -0.16338747739791870117f, -0.19494223594665527344f, 0.20815886557102203369f, 0.80873721837997436523f, 0.84457951784133911133f, -0.99326574802398681641f, 0.25160852074623107910f, 0.58296078443527221680f, 0.77252662181854248047f, -0.21121563017368316650f, -0.071314111351966857910f, -0.59227430820465087891f, -0.69983363151550292969f, 0.76618158817291259766f, -0.49705243110656738281f, -0.47121286392211914062f, 0.36804971098899841309f, 0.88300299644470214844f, -0.18812811374664306641f, -0.66856801509857177734f, -0.21860732138156890869f, -0.87524032592773437500f, 0.24416811764240264893f, 0.35678458213806152344f, 0.60200905799865722656f, -0.37894803285598754883f, -0.77472931146621704102f, 0.30735501646995544434f, -0.36487925052642822266f, -0.70391869544982910156f, -1.0093071460723876953f, 0.94683498144149780273f, 0.28554037213325500488f, 0.85063111782073974609f, 0.92623466253280639648f, 0.43491566181182861328f, -0.30103588104248046875f, -0.51204603910446166992f, 0.62397199869155883789f, -0.38327947258949279785f, -0.46528938412666320801f, 0.59634512662887573242f, -0.57289427518844604492f, 0.64624929428100585938f, -0.22762532532215118408f, 0.97637557983398437500f, 0.33008372783660888672f, 0.63841551542282104492f, -0.10393275320529937744f};
static const float tensor_l2_weight[1][100] = 
{
  {-0.00067603832576423883438f, -0.022256290540099143982f, -0.065310984849929809570f, -0.21272470057010650635f, -0.036009758710861206055f, 0.0040528392419219017029f, -0.054955292493104934692f, 0.088678069412708282471f, 0.074870221316814422607f, 0.16670075058937072754f, 0.073779374361038208008f, -0.17363326251506805420f, 0.12183041125535964966f, 0.082424685359001159668f, 0.11298448592424392700f, 0.20603798329830169678f, 0.11454964429140090942f, -0.061372019350528717041f, 0.13731645047664642334f, 0.036416124552488327026f, -0.050405915826559066772f, 0.072416342794895172119f, 0.011955867521464824677f, -0.053587414324283599854f, 0.10941897332668304443f, 0.037052899599075317383f, -0.12886041402816772461f, -0.072372056543827056885f, 0.16092123091220855713f, -0.19243909418582916260f, 0.062628865242004394531f, 0.037283934652805328369f, 0.010813119821250438690f, 0.15160003304481506348f, 0.098382189869880676270f, 0.035505589097738265991f, -0.032291296869516372681f, -0.059023264795541763306f, 0.027637569233775138855f, -0.0065378532744944095612f, -0.076409205794334411621f, 0.10200674831867218018f, -0.14266633987426757812f, -0.021804291754961013794f, -0.11145893484354019165f, -0.019385300576686859131f, -0.13937072455883026123f, -0.091123536229133605957f, -0.051556937396526336670f, -0.015931351110339164734f, -0.20079019665718078613f, 0.044890560209751129150f, -0.036034904420375823975f, -0.039369653910398483276f, -0.10353167355060577393f, -0.12291152030229568481f, 0.026137549430131912231f, 0.048744644969701766968f, 0.16984407603740692139f, 0.19760335981845855713f, -0.011251076124608516693f, -0.066720046103000640869f, -0.090312734246253967285f, -0.047836538404226303101f, -0.025234257802367210388f, 0.14383389055728912354f, 0.14283026754856109619f, 0.0086198635399341583252f, 0.045919951051473617554f, -0.095475599169731140137f, 0.13695733249187469482f, -0.061580307781696319580f, -0.029462849721312522888f, 0.10684622824192047119f, -0.039777729660272598267f, 0.047827087342739105225f, -0.017573159188032150269f, 0.041901659220457077026f, -0.029818439856171607971f, -0.0052943252958357334137f, 0.14466145634651184082f, 0.15756900608539581299f, -0.050180066376924514771f, 0.15137714147567749023f, -0.0064667384140193462372f, 0.080272234976291656494f, -0.068592399358749389648f, 0.017933711409568786621f, 0.016911847516894340515f, -0.074449867010116577148f, -0.20691312849521636963f, -0.11656586825847625732f, 0.029327571392059326172f, -0.060184352099895477295f, 0.021418331190943717957f, -0.071039974689483642578f, -0.064319863915443420410f, -0.081952050328254699707f, 0.11285710334777832031f, 0.046921692788600921631f}
};
static const float tensor_l2_bias[1] = 
{-0.044831588864326477051f};
union tensor_union_0 {
float tensor__l1_Gemm_output_0[1][100];
};
static union tensor_union_0 tu0;

union tensor_union_1 {
float tensor__a1_Tanh_output_0[1][100];
};
static union tensor_union_1 tu1;


static inline void node__l1_Gemm( const float tensor_input[1][1], const float tensor_l1_weight[100][1], const float tensor_l1_bias[100], float tensor__l1_Gemm_output_0[1][100] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 1;
	const int N = 100;
	float (*A)[1]  = (float(*)[1])tensor_input;
	float (*Y)[100]  = (float(*)[100])tensor__l1_Gemm_output_0;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[100]  = (float(*)[100])tensor_l1_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l1_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][c] * beta;
			Y[r][c] = tmp;
	}
}

static inline void node__a1_Tanh( const float tensor__l1_Gemm_output_0[1][100], float tensor__a1_Tanh_output_0[1][100] )
{
	/* Tanh
	   alpha = 0.0000000000000000000
	   beta = 0.0000000000000000000
	*/
	for (unsigned i0=0; i0<1; i0++) {
	for (unsigned i1=0; i1<100; i1++) {
		tensor__a1_Tanh_output_0[i0][i1] = tanhf(tensor__l1_Gemm_output_0[i0][i1]);
	}
	}
}

static inline void node__l2_Gemm( const float tensor__a1_Tanh_output_0[1][100], const float tensor_l2_weight[1][100], const float tensor_l2_bias[1], float tensor_output[1][1] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 100;
	const int N = 1;
	float (*A)[100]  = (float(*)[100])tensor__a1_Tanh_output_0;
	float (*Y)[1]  = (float(*)[1])tensor_output;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[1]  = (float(*)[1])tensor_l2_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l2_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][0] * beta;
			Y[r][c] = tmp;
	}
}
