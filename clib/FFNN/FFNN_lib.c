// This file is computer-generated by onnx2c 
// (TODO: add creating command line here)
// (TODO: print creation date here )

// ONNX model:
// produced by pytorch, version 1.13.0
// ONNX IR version: 14
// Model documentation: 
/*

*/

#include <float.h>
#include <math.h>
#include <stdbool.h>
#include <stdint.h>
#include <string.h>
#define MAX(X,Y) ( X > Y ? X : Y)
#define MIN(X,Y) ( X < Y ? X : Y)
#define CLIP(X,L) ( MAX(MIN(X,L), -L) )

static const float tensor_l1_weight[100][1] = 
{
  {0.67491745948791503906f},
  {-0.54721868038177490234f},
  {-0.13872671127319335938f},
  {0.49192965030670166016f},
  {-0.023332238197326660156f},
  {-0.52696251869201660156f},
  {-0.31624424457550048828f},
  {0.68724322319030761719f},
  {-0.27713990211486816406f},
  {-0.23406815528869628906f},
  {-0.56628835201263427734f},
  {-0.36667621135711669922f},
  {0.58990228176116943359f},
  {-0.085080862045288085938f},
  {0.45387244224548339844f},
  {-0.89782404899597167969f},
  {0.68670201301574707031f},
  {-0.53782129287719726562f},
  {-0.90663087368011474609f},
  {0.46544885635375976562f},
  {0.70124948024749755859f},
  {0.69093644618988037109f},
  {0.61728703975677490234f},
  {-0.30031847953796386719f},
  {-0.74060785770416259766f},
  {0.11072659492492675781f},
  {-0.17078757286071777344f},
  {-0.39772820472717285156f},
  {-0.26186883449554443359f},
  {-0.92608034610748291016f},
  {-0.77372205257415771484f},
  {-0.14885580539703369141f},
  {0.99511194229125976562f},
  {-0.45780038833618164062f},
  {-0.36060726642608642578f},
  {-0.81274807453155517578f},
  {0.26700377464294433594f},
  {-0.82418608665466308594f},
  {-0.040829539299011230469f},
  {0.77967178821563720703f},
  {0.40101027488708496094f},
  {0.19252812862396240234f},
  {-0.23728811740875244141f},
  {-0.32281470298767089844f},
  {-0.70586168766021728516f},
  {0.84773254394531250000f},
  {0.025184750556945800781f},
  {0.64010357856750488281f},
  {0.72103190422058105469f},
  {0.65342390537261962891f},
  {-0.26562702655792236328f},
  {0.43837988376617431641f},
  {0.60424542427062988281f},
  {0.93613564968109130859f},
  {0.98273324966430664062f},
  {-0.42670738697052001953f},
  {-0.96623611450195312500f},
  {0.88245868682861328125f},
  {-0.49783051013946533203f},
  {0.82387828826904296875f},
  {-0.81341743469238281250f},
  {0.32704472541809082031f},
  {-0.54026436805725097656f},
  {0.67375528812408447266f},
  {0.23488712310791015625f},
  {0.14178431034088134766f},
  {-0.79158830642700195312f},
  {-0.41999685764312744141f},
  {-0.94349789619445800781f},
  {0.78520369529724121094f},
  {-0.30076134204864501953f},
  {-0.87160062789916992188f},
  {0.46083879470825195312f},
  {0.53844046592712402344f},
  {0.024118304252624511719f},
  {0.60288298130035400391f},
  {-0.66976153850555419922f},
  {-0.014106512069702148438f},
  {-0.80719196796417236328f},
  {-0.75952064990997314453f},
  {-0.86245644092559814453f},
  {0.067286849021911621094f},
  {0.11274242401123046875f},
  {0.53066885471343994141f},
  {0.16208767890930175781f},
  {0.53758811950683593750f},
  {-0.39105868339538574219f},
  {-0.52712488174438476562f},
  {-0.78501987457275390625f},
  {0.81995570659637451172f},
  {-0.86856532096862792969f},
  {0.77308309078216552734f},
  {-0.58646774291992187500f},
  {0.41384637355804443359f},
  {0.0081434249877929687500f},
  {0.048790097236633300781f},
  {-0.51493632793426513672f},
  {0.18546450138092041016f},
  {-0.65188848972320556641f},
  {0.20119512081146240234f}
};
static const float tensor_l1_bias[100] = 
{0.53567016124725341797f, -0.090029478073120117188f, 0.55738246440887451172f, 0.98345839977264404297f, 0.20951342582702636719f, -0.39116811752319335938f, 0.64398026466369628906f, -0.47228586673736572266f, 0.70533192157745361328f, 0.26296257972717285156f, -0.18611681461334228516f, -0.062429308891296386719f, 0.30327641963958740234f, 0.34361588954925537109f, 0.35763251781463623047f, 0.79262495040893554688f, -0.21515727043151855469f, 0.19321417808532714844f, 0.75292539596557617188f, -0.079521417617797851562f, -0.80854499340057373047f, 0.26923966407775878906f, -0.032065868377685546875f, -0.28232252597808837891f, -0.41823995113372802734f, 0.022448897361755371094f, -0.18168532848358154297f, -0.49810540676116943359f, -0.31934058666229248047f, 0.039459705352783203125f, 0.40274989604949951172f, -0.16539013385772705078f, -0.65669083595275878906f, 0.015825867652893066406f, -0.16793024539947509766f, -0.26834738254547119141f, -0.24505162239074707031f, -0.66665518283843994141f, 0.79624187946319580078f, 0.44616699218750000000f, -0.55352258682250976562f, 0.12852513790130615234f, -0.51674139499664306641f, 0.0082129240036010742188f, -0.25267529487609863281f, 0.78373515605926513672f, 0.56703388690948486328f, -0.82148635387420654297f, 0.16345787048339843750f, 0.92382955551147460938f, -0.86089479923248291016f, -0.15627443790435791016f, 0.11581695079803466797f, 0.016982078552246093750f, -0.74550569057464599609f, -0.22561168670654296875f, 0.056858062744140625000f, -0.84908533096313476562f, 0.44012081623077392578f, 0.53869771957397460938f, 0.61697602272033691406f, 0.51620030403137207031f, 0.55682599544525146484f, 0.70835292339324951172f, -0.65230393409729003906f, 0.84513521194458007812f, 0.95357429981231689453f, -0.45973181724548339844f, -0.79801738262176513672f, 0.056682825088500976562f, 0.47073602676391601562f, -0.72554218769073486328f, 0.31546545028686523438f, -0.63583064079284667969f, -0.10687792301177978516f, 0.60600125789642333984f, -0.28040969371795654297f, -0.42318534851074218750f, 0.60992968082427978516f, -0.77609896659851074219f, 0.76869416236877441406f, 0.63708412647247314453f, -0.84972512722015380859f, -0.33256411552429199219f, 0.79366254806518554688f, 0.11495137214660644531f, -0.23663783073425292969f, -0.66277980804443359375f, -0.27958166599273681641f, 0.49700367450714111328f, -0.55891263484954833984f, 0.14426004886627197266f, 0.72921276092529296875f, -0.30061602592468261719f, 0.87895810604095458984f, -0.51333212852478027344f, 0.73910582065582275391f, 0.11635720729827880859f, 0.98074936866760253906f, -0.33289504051208496094f};
static const float tensor_l2_weight[1][100] = 
{
  {0.090659223496913909912f, -0.071063637733459472656f, 0.058344364166259765625f, -0.018765473738312721252f, -0.029094779863953590393f, 0.048274863511323928833f, 0.060924090445041656494f, 0.031411588191986083984f, -0.0098586678504943847656f, -0.062439408153295516968f, 0.069506220519542694092f, -0.037128951400518417358f, -0.036167182028293609619f, -0.064473383128643035889f, -0.059964705258607864380f, -0.012446629814803600311f, -0.099716059863567352295f, -0.062069680541753768921f, 0.0069241407327353954315f, 0.046441175043582916260f, 0.013229477219283580780f, -0.063921645283699035645f, 0.060300540179014205933f, -0.054015781730413436890f, -0.063554480671882629395f, 0.062934868037700653076f, -0.041945625096559524536f, 0.070472493767738342285f, 0.083583749830722808838f, 0.012391638942062854767f, -0.098607614636421203613f, -0.011078334413468837738f, 0.00016120672808028757572f, -0.064809776842594146729f, -0.025551307946443557739f, 0.023289037868380546570f, 0.024251032620668411255f, 0.021522236987948417664f, -0.084521472454071044922f, 0.074676565825939178467f, -0.099179208278656005859f, 0.097275055944919586182f, -0.058527614921331405640f, 0.097360648214817047119f, -0.033143948763608932495f, 0.029805934056639671326f, -0.060569025576114654541f, 0.020632183179259300232f, 0.0055814147926867008209f, -0.093119800090789794922f, 0.088663361966609954834f, -0.039504896849393844604f, 0.0061871409416198730469f, 0.029925955459475517273f, -0.029720425605773925781f, -0.041215538978576660156f, 0.015382731333374977112f, 0.098675765097141265869f, 0.041766930371522903442f, 0.019298089668154716492f, -0.019453918561339378357f, -0.061229493468999862671f, -0.027602327987551689148f, -0.074338220059871673584f, 0.068387843668460845947f, 0.081092670559883117676f, -0.032925643026828765869f, -0.042027153074741363525f, 0.099480383098125457764f, -0.094996832311153411865f, 0.029104996472597122192f, -0.058623459190130233765f, -0.010276007466018199921f, 0.022322285920381546021f, -0.085952579975128173828f, -0.025630569085478782654f, -0.086293257772922515869f, 0.077400006353855133057f, 0.019696831703186035156f, -0.058392014354467391968f, 0.078673221170902252197f, 0.066565170884132385254f, 0.042346525937318801880f, -0.00083637237548828125000f, -0.099390283226966857910f, 0.097572825849056243896f, 0.084197334945201873779f, -0.015041363425552845001f, -0.039525758475065231323f, 0.066931180655956268311f, 0.036179579794406890869f, 0.0088129285722970962524f, -0.087555982172489166260f, 0.059461988508701324463f, 0.025056947022676467896f, 0.098246388137340545654f, 0.010330689139664173126f, 0.091693632304668426514f, 0.041510798037052154541f, 0.076349750161170959473f}
};
static const float tensor_l2_bias[1] = 
{0.037010218948125839233f};
union tensor_union_0 {
float tensor__l1_Gemm_output_0[1][100];
};
static union tensor_union_0 tu0;

union tensor_union_1 {
float tensor__a1_Tanh_output_0[1][100];
};
static union tensor_union_1 tu1;


static inline void node__l1_Gemm( const float tensor_input[1][1], const float tensor_l1_weight[100][1], const float tensor_l1_bias[100], float tensor__l1_Gemm_output_0[1][100] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 1;
	const int N = 100;
	float (*A)[1]  = (float(*)[1])tensor_input;
	float (*Y)[100]  = (float(*)[100])tensor__l1_Gemm_output_0;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[100]  = (float(*)[100])tensor_l1_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l1_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][c] * beta;
			Y[r][c] = tmp;
	}
}

static inline void node__a1_Tanh( const float tensor__l1_Gemm_output_0[1][100], float tensor__a1_Tanh_output_0[1][100] )
{
	/* Tanh
	   alpha = 0.0000000000000000000
	   beta = 0.0000000000000000000
	*/
	for (unsigned i0=0; i0<1; i0++) {
	for (unsigned i1=0; i1<100; i1++) {
		tensor__a1_Tanh_output_0[i0][i1] = tanhf(tensor__l1_Gemm_output_0[i0][i1]);
	}
	}
}

static inline void node__l2_Gemm( const float tensor__a1_Tanh_output_0[1][100], const float tensor_l2_weight[1][100], const float tensor_l2_bias[1], float tensor_output[1][1] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 100;
	const int N = 1;
	float (*A)[100]  = (float(*)[100])tensor__a1_Tanh_output_0;
	float (*Y)[1]  = (float(*)[1])tensor_output;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[1]  = (float(*)[1])tensor_l2_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l2_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][0] * beta;
			Y[r][c] = tmp;
	}
}
