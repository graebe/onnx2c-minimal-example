// This file is computer-generated by onnx2c 
// (TODO: add creating command line here)
// (TODO: print creation date here )

// ONNX model:
// produced by pytorch, version 1.13.0
// ONNX IR version: 14
// Model documentation: 
/*

*/

#include <float.h>
#include <math.h>
#include <stdbool.h>
#include <stdint.h>
#include <string.h>
#define MAX(X,Y) ( X > Y ? X : Y)
#define MIN(X,Y) ( X < Y ? X : Y)
#define CLIP(X,L) ( MAX(MIN(X,L), -L) )

static const float tensor_l1_weight[100][1] = 
{
  {0.033617585897445678711f},
  {0.42493009567260742188f},
  {0.54858309030532836914f},
  {-0.096058942377567291260f},
  {0.71680873632431030273f},
  {-0.87623059749603271484f},
  {-0.83055669069290161133f},
  {0.21359176933765411377f},
  {-0.33410748839378356934f},
  {0.81382095813751220703f},
  {0.32415729761123657227f},
  {-0.71566081047058105469f},
  {-0.43036559224128723145f},
  {0.36222362518310546875f},
  {0.51277530193328857422f},
  {-0.078675545752048492432f},
  {0.57823747396469116211f},
  {0.33739820122718811035f},
  {-0.41074162721633911133f},
  {0.45112168788909912109f},
  {0.96610575914382934570f},
  {-0.21543774008750915527f},
  {0.47591492533683776855f},
  {-0.31829193234443664551f},
  {-0.66317546367645263672f},
  {0.58166134357452392578f},
  {0.93936604261398315430f},
  {-0.41027405858039855957f},
  {0.66031551361083984375f},
  {-0.91184061765670776367f},
  {0.21117627620697021484f},
  {0.96714919805526733398f},
  {0.41291704773902893066f},
  {0.23676708340644836426f},
  {0.22832153737545013428f},
  {0.96429198980331420898f},
  {-0.23352628946304321289f},
  {0.18624217808246612549f},
  {-0.90865904092788696289f},
  {0.97994554042816162109f},
  {-0.62447285652160644531f},
  {0.28411465883255004883f},
  {0.17654550075531005859f},
  {0.030951466411352157593f},
  {-0.082581065595149993896f},
  {0.52743256092071533203f},
  {-0.29802531003952026367f},
  {-0.98386698961257934570f},
  {-0.61207991838455200195f},
  {-0.65260493755340576172f},
  {0.49492302536964416504f},
  {0.69651812314987182617f},
  {-0.57071763277053833008f},
  {0.36931216716766357422f},
  {0.13059082627296447754f},
  {-0.71473985910415649414f},
  {-0.073709666728973388672f},
  {-0.46424588561058044434f},
  {0.50007688999176025391f},
  {-0.65722703933715820312f},
  {-0.35851737856864929199f},
  {0.17346172034740447998f},
  {-0.85768008232116699219f},
  {0.45116278529167175293f},
  {-0.47169312834739685059f},
  {-0.19281896948814392090f},
  {-0.45810449123382568359f},
  {0.21914373338222503662f},
  {-0.67119443416595458984f},
  {0.38713824748992919922f},
  {0.91883468627929687500f},
  {0.36394429206848144531f},
  {-0.56536972522735595703f},
  {0.35257923603057861328f},
  {-0.22793772816658020020f},
  {0.30891820788383483887f},
  {0.29684555530548095703f},
  {0.94416159391403198242f},
  {-0.65096819400787353516f},
  {-0.51028496026992797852f},
  {0.48217195272445678711f},
  {-0.80500620603561401367f},
  {0.41740229725837707520f},
  {0.13206587731838226318f},
  {-0.22950279712677001953f},
  {0.20458152890205383301f},
  {0.42325925827026367188f},
  {0.34722170233726501465f},
  {0.56285142898559570312f},
  {-0.44522455334663391113f},
  {0.94191169738769531250f},
  {-0.26191610097885131836f},
  {-0.98498952388763427734f},
  {-0.36458435654640197754f},
  {0.77204406261444091797f},
  {0.50357902050018310547f},
  {0.014950246550142765045f},
  {-0.18897697329521179199f},
  {0.53881561756134033203f},
  {-0.20161044597625732422f}
};
static const float tensor_l1_bias[100] = 
{-0.024267697706818580627f, 0.19698743522167205811f, 0.36073395609855651855f, -0.41489291191101074219f, -0.33905544877052307129f, 0.48528528213500976562f, 0.31088519096374511719f, 0.61281263828277587891f, -0.23877468705177307129f, 0.42531234025955200195f, -0.50908946990966796875f, 0.49877372384071350098f, 0.81826543807983398438f, 0.092872329056262969971f, -0.081598520278930664062f, 0.62132662534713745117f, -0.88010370731353759766f, -0.37152135372161865234f, -0.042062044143676757812f, -0.70849955081939697266f, 0.15640209615230560303f, -0.46096348762512207031f, -0.17592345178127288818f, 0.74060368537902832031f, -0.11546229571104049683f, 0.085261493921279907227f, 0.83044344186782836914f, -0.73565602302551269531f, -0.34962904453277587891f, 0.88094580173492431641f, -0.24206891655921936035f, -0.043495029211044311523f, -0.41927936673164367676f, 0.25643581151962280273f, -0.58552545309066772461f, 0.77270168066024780273f, -0.40054476261138916016f, -0.60567599534988403320f, -0.39849218726158142090f, -0.61951667070388793945f, -0.21251252293586730957f, -0.86128830909729003906f, -0.97286289930343627930f, 0.94828891754150390625f, -0.71400660276412963867f, -0.64188963174819946289f, -0.29555124044418334961f, -0.090147949755191802979f, 0.75198251008987426758f, 0.22976557910442352295f, -0.88525348901748657227f, 0.62639641761779785156f, 0.093713633716106414795f, -0.58899021148681640625f, 0.48603183031082153320f, 0.032724626362323760986f, 0.98322480916976928711f, -0.51962387561798095703f, 0.98030072450637817383f, 0.15639513731002807617f, -0.79234510660171508789f, -0.29771304130554199219f, 0.92420607805252075195f, 0.45909127593040466309f, -0.78444963693618774414f, 0.23845802247524261475f, -0.077094182372093200684f, 0.87349736690521240234f, -0.74408638477325439453f, -0.23531250655651092529f, -0.52886927127838134766f, -0.18681222200393676758f, -0.20810301601886749268f, -0.14128579199314117432f, -0.51293677091598510742f, 0.42242243885993957520f, -0.84099370241165161133f, -0.65140014886856079102f, 0.51745891571044921875f, -0.85120332241058349609f, 0.88122057914733886719f, 0.85456645488739013672f, -0.66664260625839233398f, 0.44931054115295410156f, -0.17976485192775726318f, -0.85224211215972900391f, 0.18476006388664245605f, -0.54979258775711059570f, -0.33137264847755432129f, -0.19526472687721252441f, -0.53110575675964355469f, -0.028149891644716262817f, -0.71233332157135009766f, 0.93828988075256347656f, 0.54605591297149658203f, 0.60426080226898193359f, -0.42284214496612548828f, -0.011664395220577716827f, -0.75007641315460205078f, 0.63382983207702636719f};
static const float tensor_l2_weight[1][100] = 
{
  {-0.10083366185426712036f, -0.059347156435251235962f, 0.069581694900989532471f, 0.11287214607000350952f, 0.097987316548824310303f, -0.091082587838172912598f, -0.12390013039112091064f, -0.034380368888378143311f, 0.13549488782882690430f, 0.16578042507171630859f, -0.14724081754684448242f, -0.091098450124263763428f, 0.14243488013744354248f, -0.027957625687122344971f, -0.045787390321493148804f, -0.066684514284133911133f, -0.12278113514184951782f, 0.0015555786667391657829f, 0.0017751705599948763847f, -0.17071373760700225830f, 0.29532384872436523438f, 0.079613447189331054688f, 0.086451612412929534912f, 0.056537725031375885010f, -0.056001160293817520142f, 0.099251314997673034668f, 0.11296465992927551270f, 0.074552126228809356689f, 0.11862066388130187988f, -0.0018172855488955974579f, 0.029117908328771591187f, 0.15093821287155151367f, -0.061881296336650848389f, -0.16987042129039764404f, -0.093668147921562194824f, 0.067776463925838470459f, 0.086947292089462280273f, 0.036680292338132858276f, -0.088654518127441406250f, 0.19359111785888671875f, -0.051136232912540435791f, -0.093766771256923675537f, -0.10194567590951919556f, 0.030318269506096839905f, 0.024154927581548690796f, -0.12270290404558181763f, 0.17270849645137786865f, -0.17581225931644439697f, -0.013429599814116954803f, -0.088055521249771118164f, -0.12763112783432006836f, -0.058782074600458145142f, -0.046660054475069046021f, -0.12963797152042388916f, -0.045709222555160522461f, -0.17493256926536560059f, 0.091750957071781158447f, 0.14558754861354827881f, -0.088796138763427734375f, -0.021999562159180641174f, 0.023320699110627174377f, -0.10410723090171813965f, 0.017148477956652641296f, -0.0045496909879148006439f, 0.12194895744323730469f, 0.080086648464202880859f, 0.014170982874929904938f, -0.081608101725578308105f, 0.026396283879876136780f, -0.13054656982421875000f, 0.18738447129726409912f, -0.026512740179896354675f, -0.10553798824548721313f, -0.028370412066578865051f, 0.061288170516490936279f, -0.017473002895712852478f, -0.015157559886574745178f, 0.058207150548696517944f, -0.011526760645210742950f, 0.12249284237623214722f, -0.14380116760730743408f, -0.033610660582780838013f, -0.15471230447292327881f, -0.13411927223205566406f, 0.10911835730075836182f, 0.019959708675742149353f, 0.058754492551088333130f, -0.16147057712078094482f, 0.0053547266870737075806f, -0.057080153375864028931f, 0.15837703645229339600f, 0.079043827950954437256f, -0.079077176749706268311f, 0.0038871879223734140396f, 0.13013564050197601318f, -0.083445861935615539551f, 0.069960020482540130615f, 0.021421704441308975220f, -0.049138762056827545166f, 0.056658126413822174072f}
};
static const float tensor_l2_bias[1] = 
{-0.052632864564657211304f};
union tensor_union_0 {
float tensor__l1_Gemm_output_0[1][100];
};
static union tensor_union_0 tu0;

union tensor_union_1 {
float tensor__a1_Tanh_output_0[1][100];
};
static union tensor_union_1 tu1;


static inline void node__l1_Gemm( const float tensor_input[1][1], const float tensor_l1_weight[100][1], const float tensor_l1_bias[100], float tensor__l1_Gemm_output_0[1][100] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 1;
	const int N = 100;
	float (*A)[1]  = (float(*)[1])tensor_input;
	float (*Y)[100]  = (float(*)[100])tensor__l1_Gemm_output_0;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[100]  = (float(*)[100])tensor_l1_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l1_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][c] * beta;
			Y[r][c] = tmp;
	}
}

static inline void node__a1_Tanh( const float tensor__l1_Gemm_output_0[1][100], float tensor__a1_Tanh_output_0[1][100] )
{
	/* Tanh
	   alpha = 0.0000000000000000000
	   beta = 0.0000000000000000000
	*/
	for (unsigned i0=0; i0<1; i0++) {
	for (unsigned i1=0; i1<100; i1++) {
		tensor__a1_Tanh_output_0[i0][i1] = tanhf(tensor__l1_Gemm_output_0[i0][i1]);
	}
	}
}

static inline void node__l2_Gemm( const float tensor__a1_Tanh_output_0[1][100], const float tensor_l2_weight[1][100], const float tensor_l2_bias[1], float tensor_output[1][1] )
{
	/* Gemm */
	/* alpha   = 1.0000000000000000000
	   beta    = 1.0000000000000000000
	   transA  = 0
	   transB  = 1
	 */
	const int M = 1;
	const int K = 100;
	const int N = 1;
	float (*A)[100]  = (float(*)[100])tensor__a1_Tanh_output_0;
	float (*Y)[1]  = (float(*)[1])tensor_output;
	float alpha = 1.0000000000000000000;
	float beta = 1.0000000000000000000;
	float (*C)[1]  = (float(*)[1])tensor_l2_bias;
	for( uint32_t r=0; r<M; r++ )
		for( uint32_t c=0; c<N; c++ ) {
			float ABrc = 0;
			for( uint32_t i=0; i<K; i++ ) {
				float B = tensor_l2_weight[c][i];
				ABrc += A[r][i] * B;
			}
			float tmp = ABrc * alpha;
			tmp += C[0][0] * beta;
			Y[r][c] = tmp;
	}
}
